# git-cliff configuration for Flamingock CLI release notes
# https://git-cliff.org/docs/configuration

[changelog]
# No header/footer â€” the GitHub Release page already shows the version title
header = ""
footer = ""
body = """
{% for group, commits in commits | group_by(attribute="group") %}\
    ### {{ group | striptags | trim }}
    {% for commit in commits %}\
        - {% if commit.scope %}*{{ commit.scope }}*: {% endif %}\
            {% if commit.breaking %}[**breaking**] {% endif %}\
            {{ commit.message | upper_first }}\
    {% endfor %}
{% endfor %}\n
"""
trim = true

[git]
conventional_commits = true
filter_unconventional = true
filter_commits = true
tag_pattern = "v[0-9].*"
skip_tags = "v0.0.0"
sort_commits = "oldest"

commit_parsers = [
    { message = "^feat", group = "<!-- 0 -->Features" },
    { message = "^fix", group = "<!-- 1 -->Bug Fixes" },
    { message = "^refactor", group = "<!-- 2 -->Refactor" },
    { message = "^doc", group = "<!-- 3 -->Documentation" },
    { message = "^perf", group = "<!-- 4 -->Performance" },
    { message = "^test", group = "<!-- 5 -->Testing" },
    { message = "^revert", group = "<!-- 9 -->Reverts" },
    { message = "^chore\\(release\\)", skip = true },
    { message = "^chore|^ci|^build|^style", group = "<!-- 6 -->Miscellaneous" },
]
